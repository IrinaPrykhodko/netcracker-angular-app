<div class="prescriptions">
  <app-spinner *ngIf="isLoading"></app-spinner>
  <div class="prescriptions__title">
    <h2>Prescriptions</h2>
  </div>
  <div class="add">
    <router-outlet></router-outlet>
    <button (click)="openDialog()">Add prescription</button>
  </div>

  <div class="prescriptions__list">
    <ul>
      <li
        *ngFor="let element of prescriptionStruct |
         paginate: {itemsPerPage: paginationOptions.size, currentPage: paginationOptions.pageNumber + 1}">
        <mat-expansion-panel>
          <mat-expansion-panel-header (click)="getPrescriptionItems(element.prescription.id)">
            <mat-panel-title>
              <div class="prescriptions__list__title">
                {{element.prescription.name}}
              </div>
            </mat-panel-title>
            <mat-panel-description>
              <div class="prescriptions__list__date">
                {{element.prescription.date}}
              </div>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="prescriptions__list_items">
            <ul>
              <li *ngFor="let prescriptionItem of element.prescriptionItems">
                <span>Medicine: {{prescriptionItem.medicine.name}}</span>
                <span>Dosage: {{prescriptionItem.dosage}}</span>
                <span>Taking time: {{prescriptionItem.takingTime}}</span>
                <span>From {{prescriptionItem.startDate}} to {{prescriptionItem.endDate}}</span>
                <span>Duration: {{prescriptionItem.takingDurationDays}} days</span>
                <span>{{prescriptionItem.description}}</span>
                <mat-checkbox [checked]="prescriptionItem.isReminderEnabled">Reminder</mat-checkbox>
              </li>
            </ul>
          </div>
        </mat-expansion-panel>
      </li>
    </ul>
  </div>

  <!--<ul class="prescriptions">-->
  <!--  <li-->
  <!--    *ngFor="let prescription of prescriptions | paginate: {itemsPerPage: paginationOptions.size, currentPage: paginationOptions.pageNumber}"-->
  <!--    [class.selected]="prescription === selectedPrescription"-->
  <!--    (click)="onSelected(prescription)">-->
  <!--    <span>{{prescription.name}}</span>-->
  <!--    <span>{{prescription.date}}</span>-->
  <!--    <span>{{prescription.doctor.id}}</span>-->
  <!--    <button mat-raised-button>Add reminder</button>-->
  <!--    <button mat-raised-button (click)="onDelete(prescription)">Delete</button>-->
  <!--  </li>-->
  <!--</ul>-->

  <!--<ng-container *ngIf="selectedPrescription">-->
  <!--  <ul class="prescriptionItem">-->
  <!--    <li *ngFor="let prescriptionItem of prescriptionItems">-->
  <!--      <h2>{{prescriptionItem.id}} | Information</h2>-->
  <!--      <span>Medicine: {{prescriptionItem.medicine.id}}</span>-->
  <!--      <span>Start Date: {{prescriptionItem.startDate}}</span>-->
  <!--      <span>End Date: {{prescriptionItem.endDate}}</span>-->
  <!--      <span>Taking Duration days: {{prescriptionItem.takingDurationDays}}</span>-->
  <!--      <span>Taking time: {{prescriptionItem.takingTime}}</span>-->
  <!--      <span>Description: {{prescriptionItem.description}}</span>-->
  <!--    </li>-->
  <!--  </ul>-->
  <!--</ng-container>-->

  <pagination-controls (pageChange)="changePage($event)"></pagination-controls>
</div>
